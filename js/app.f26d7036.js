(function(e){function t(t){for(var n,l,r=t[0],s=t[1],i=t[2],b=0,d=[];b<r.length;b++)l=r[b],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&d.push(c[l][0]),c[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==c[s]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},c={app:0},o=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vue-mosaic-generator/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var i=0;i<r.length;i++)t(r[i]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0427":function(e,t,a){},"25a1":function(e,t,a){"use strict";a("ee33")},"2b19":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("7a23");function c(e,t,a,c,o,l){const r=Object(n["q"])("Home");return Object(n["m"])(),Object(n["c"])(r)}var o=a("6bcb"),l=a.n(o),r=a("cffa"),s=a("ee38"),i=a.n(s);const u={class:"container"},b=["src"],d={key:0,class:"content"};var v={__name:"SidePanel",setup(e){const t=Object(n["n"])(!0);return(e,a)=>(Object(n["m"])(),Object(n["e"])("div",u,[Object(n["f"])("div",{class:Object(n["j"])(["side-panel",{open:t.value}])},[Object(n["f"])("button",{class:"close-btn",onClick:a[0]||(a[0]=e=>t.value=!t.value)},[Object(n["f"])("img",{class:"arrow",src:Object(n["s"])(i.a),alt:"Arrow icon"},null,8,b)]),t.value?(Object(n["m"])(),Object(n["e"])("div",d,[Object(n["p"])(e.$slots,"default")])):Object(n["d"])("",!0)],2)]))}},f=(a("fe30"),a("6b0d")),p=a.n(f);const O=p()(v,[["__scopeId","data-v-959dd79e"]]);var j=O;const h={class:"title"},g=["onClick"];var m={__name:"Dropdown",props:{options:Array,title:String,placeholder:String,selectedOption:[String,Number]},emits:["change"],setup(e,{emit:t}){const a=e,c=t,o=Object(n["n"])(!1),l=Object(n["n"])(0),r=Object(n["n"])(a.options.find(e=>e.value===a.selectedOption)),s=Object(n["n"])(null),i=Object(n["n"])(null),u=async()=>{o.value=!o.value,o.value&&(await Object(n["i"])(),d())},b=e=>{r.value=e,o.value=!1,c("change",e.value)},d=()=>{i.value&&(l.value=i.value.offsetWidth)},v=e=>{s.value&&!s.value.contains(e.target)&&(o.value=!1)};return Object(n["l"])(()=>{d(),document.addEventListener("click",v)}),(t,a)=>(Object(n["m"])(),Object(n["e"])("div",{ref_key:"dropdownRef",ref:s,class:"dropdown"},[Object(n["f"])("div",h,Object(n["r"])(e.title),1),Object(n["f"])("div",{ref_key:"dropdownButtonRef",ref:i,class:"dropdown-button",onClick:u},Object(n["r"])(e.selectedOption?r.value.label:void 0!==e.placeholder?e.placeholder:"Select an option"),513),o.value?(Object(n["m"])(),Object(n["e"])("ul",{key:0,class:"dropdown-list",style:Object(n["k"])({width:l.value+"px"})},[(Object(n["m"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e.options,e=>(Object(n["m"])(),Object(n["e"])("li",{class:Object(n["j"])(["dropdown-option",{selected:r.value.label===e.label}]),key:e.value,onClick:t=>b(e)},Object(n["r"])(e.label),11,g))),128))],4)):Object(n["d"])("",!0)],512))}};a("ad50");const A=p()(m,[["__scopeId","data-v-60a85c1a"]]);var w=A,y={__name:"Button",props:{title:String,type:String},emits:["click"],setup(e){return(t,a)=>(Object(n["m"])(),Object(n["e"])("button",{class:Object(n["j"])(["btn",e.type]),type:"submit",onClick:a[0]||(a[0]=e=>t.$emit("click"))},Object(n["r"])(e.title),3))}};a("25a1");const S=p()(y,[["__scopeId","data-v-70694028"]]);var k=S;const R={key:0,class:"uploader"},U={class:"file-upload"},C={key:0,class:"preview"},I=["src"];var D={__name:"FileUploader",props:{btnLabel:String},emits:["selected"],setup(e){const t=Object(n["n"])(!1),a=Object(n["n"])(null),c=Object(n["n"])(null),o=e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onload=()=>{c.value=e.result},e.readAsDataURL(a),t.value=!0}};return(t,l)=>a.value?Object(n["d"])("",!0):(Object(n["m"])(),Object(n["e"])("div",R,[Object(n["f"])("label",U,[Object(n["g"])(Object(n["r"])(e.btnLabel)+" ",1),a.value?Object(n["d"])("",!0):(Object(n["m"])(),Object(n["e"])("input",{key:0,type:"file",onChange:o,accept:"image/*"},null,32))]),c.value&&!a.value?(Object(n["m"])(),Object(n["e"])("div",C,[Object(n["f"])("img",{src:c.value,alt:"Image preview"},null,8,I),Object(n["h"])(k,{onClick:l[0]||(l[0]=e=>t.$emit("selected",c.value)),title:"Create mosaic",type:"primary"})])):Object(n["d"])("",!0)]))}};a("75f6");const B=p()(D,[["__scopeId","data-v-c0417620"]]);var W=B;const H="https://photo-mosaic-backend-600fdfdca1b7.herokuapp.com";async function E(e,t){try{const a=await fetch(`${H}/photos?query=${e}&color=${t}`),n=await a.json();return n}catch(a){console.error("Error fetching images:",a)}}class M{constructor(){this.themes={}}addPhotos(e,t,a){this.themes[e]||(this.themes[e]={}),this.themes[e][t]||(this.themes[e][t]=[]),this.themes[e][t].push(...a)}getPhotos(e,t){return this.themes[e]&&this.themes[e][t]?this.themes[e][t]:[]}getRandomPhoto(e,t){const a=this.getPhotos(e,t);if(0===a.length)return console.warn(`No photos found for theme: "${e}", color: "${t}"`),null;const n=Math.floor(Math.random()*a.length);return a[n]}}const L={class:"container"},P={class:"panel"},Q={class:"current"},Y={class:"new"};var _={__name:"Mosiac",props:{imgSrc:String},setup(e){const t=e,a=[{value:2,label:"Extra small"},{value:5,label:"Small"},{value:10,label:"Medium"},{value:20,label:"Large"}],c=[{value:"abstract",label:"Abstract"},{value:"cartoon",label:"Cartoon"},{value:"fashion",label:"Fashion"},{value:"food",label:"Food"},{value:"nature",label:"Nature"},{value:"sports",label:"Sports"}],o=Object(n["n"])(null),l=Object(n["n"])(t.imgSrc),r=Object(n["n"])(5),s=Object(n["n"])("nature");let i=new M;function u(e,t){switch(e){case"size":r.value=t;break;case"theme":s.value=t;break;default:break}}function b(e,t,a){const n={black:{r:0,g:0,b:0},white:{r:255,g:255,b:255},yellow:{r:255,g:255,b:0},orange:{r:255,g:165,b:0},red:{r:255,g:0,b:0},purple:{r:128,g:0,b:128},magenta:{r:255,g:0,b:255},green:{r:0,g:255,b:0},teal:{r:0,g:128,b:128},blue:{r:0,g:0,b:255}};let c="",o=1/0;for(let l in n){const{r:r,g:s,b:i}=n[l],u=Math.sqrt((e-r)**2+(t-s)**2+(a-i)**2);u<o&&(o=u,c=l)}return c}async function d(e){const t=i.themes[s.value]||{},a=t[e]||[];if(0===a.length){const t=await E(s.value,e);i.addPhotos(s.value,e,t)}return i.getRandomPhoto(s.value,e)}async function v(e,t){for(let a=0;a<t.height;a+=r.value)for(let n=0;n<t.width;n+=r.value){const t=e.getImageData(n,a,1,1).data,[c,o,l]=t,s=b(c,o,l),i=await d(s);if(i){const t=new Image;t.crossOrigin="anonymous",t.onload=()=>{e.drawImage(t,n,a,r.value,r.value)},t.src=i.urls.small}}}const f=()=>{const e=document.createElement("a");e.download="mosaic-image.png",e.href=o.value.toDataURL("image/png"),e.click()};async function p(){const e=o.value;if(!e||!l.value)return;const t=e.getContext("2d"),a=new Image;a.onload=async()=>{e.width=a.width,e.height=a.height,t.drawImage(a,0,0),await v(t,a)},a.onerror=e=>console.error("Failed to load image",e),a.crossOrigin="anonymous",a.src=l.value}function O(e){l.value=e,p()}return Object(n["l"])(()=>{p()}),(e,t)=>(Object(n["m"])(),Object(n["e"])("div",L,[Object(n["h"])(j,null,{default:Object(n["t"])(()=>[Object(n["f"])("div",P,[Object(n["f"])("div",Q,[t[3]||(t[3]=Object(n["f"])("h3",null,"Current image",-1)),Object(n["h"])(w,{options:a,selectedOption:r.value,title:"Tile size",placeholder:"Select size",onChange:t[0]||(t[0]=e=>u("size",e))},null,8,["selectedOption"]),Object(n["h"])(w,{options:c,selectedOption:s.value,title:"Image theme",placeholder:"Select theme",onChange:t[1]||(t[1]=e=>u("theme",e))},null,8,["selectedOption"]),Object(n["h"])(k,{onClick:p,title:"Update",type:"secondary"}),Object(n["h"])(k,{onClick:f,title:"Download mosaic",type:"primary"})]),Object(n["f"])("div",Y,[t[4]||(t[4]=Object(n["f"])("h3",null,"New",-1)),Object(n["h"])(W,{onSelected:t[2]||(t[2]=e=>O(e)),btnLabel:"Upload new image"})])])]),_:1}),Object(n["f"])("canvas",{id:"canvas",ref_key:"canvasRef",ref:o},null,512)]))}};a("d167");const K=p()(_,[["__scopeId","data-v-2303d3b2"]]);var z=K;const G={class:"container"},J={key:0,class:"intro"};var F={__name:"Home",setup(e){const t=Object(n["n"])(null),a=Object(n["n"])(null),c=Object(n["n"])(null),o=e=>{a.value=e,t.value=!0};return Object(n["l"])(()=>{c.value&&c.value.addEventListener("mouseenter",()=>{r["a"].to(c.value,{y:-10,duration:.3,ease:"power1.out",yoyo:!0,repeat:5})})}),(e,r)=>(Object(n["m"])(),Object(n["e"])("div",G,[Object(n["f"])("div",{class:"github",ref_key:"gitHubRef",ref:c},r[0]||(r[0]=[Object(n["f"])("a",{target:"_blank",href:"https://github.com/leahcarlin/vue-mosaic-generator"},[Object(n["f"])("p",null,"Check out the code"),Object(n["f"])("img",{src:l.a,alt:"github"})],-1)]),512),t.value?(Object(n["m"])(),Object(n["c"])(z,{key:1,imgSrc:a.value},null,8,["imgSrc"])):(Object(n["m"])(),Object(n["e"])("div",J,[r[1]||(r[1]=Object(n["f"])("div",{class:"description"},[Object(n["f"])("h1",null,"Photo Mosaic Generator"),Object(n["f"])("p",null," Upload an image and watch it become a photo mosaic before your eyes "),Object(n["f"])("p",null,"Each image will be made up of many smaller images or tiles")],-1)),Object(n["h"])(W,{onSelected:o,btnLabel:"Upload image"})]))]))}};a("c967");const T=p()(F,[["__scopeId","data-v-54ddd5a4"]]);var Z=T,x={name:"App",components:{Home:Z}};a("fb2b");const N=p()(x,[["render",c]]);var V=N;Object(n["b"])(V).mount("#app")},"6bcb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFfUlEQVR4nO2Z20sjVxzHR0tLu/QG7fZp2z9ACoVOHDNJdJI4mcxkotgWr9UnFQQv9cFL8RbxwY24also26UPImjFiu2DVBHRBx/ESx+sbkFQtGIsqHW90EQTSU75HXZCms3EyWXcF7/wgzAz0e/n/H5zzvmdEMSd7nSnhJWfn/9KdnY2bTabW8xm84TJZPrTZDI9MxqNPgiGYZ5lZWU9zczMnDAYDC16vV5LEEQq8bLFcdyHFovFybKsKzs7G0GYzWYcJpMJGY1GHAzD4MjKykKZmZk49Hr9vsFgeEhR1INbN87z/H2O456wLOu1WCyIZVkUK4DBYMCh1+u9NE0/Zhjm/Vsxz3FcicViOeE4DoH5JAAgnU4H8Q9N00WqGSdJ8lWe53+0Wq0IzKsAgGiahvgB/ldSzdvt9ntWq3WK53l0CwBIq9X+RpLkvWSOPDZ/iwCIoqjZtLS01xIGgLIRBAGbhwDjklkIMJ8IgE6nQxkZGThCAZ5fe5yo+S/BfCgAjHhPTw+amZlB/f39KDc3F5sF0xKAZD7UeDgAGBUEAfX29qKpqSnU1taGjYcBII1GUxiX+by8vPcEQTgOBwCD29vbSNLl5SUaGRnBpSUZLioqQpWVlai+vh5HRUUFKigoCJYLZGx0dBR5vd7g31lbW4OyeQEgPT39hCTJ2KdYURSf2Gw2FA4A4ff7UbgODw/R+vo6BpKTx+PBRo+Pj1+4d3V1FREArlEU9X1M5nmef2Cz2byRAHJycpBaouQBvCRJfhTL6DtFUUSRAOAljjbK8er8/BzKRQ4A3oWHisw7HI5UURT35QDgHdjY2Eg6wPLycrQMAIALNo03AtjtdhrMRwKA0W9tbUWBQCDpAIFAANXV1WHzkQAgOyRJUkrKp0UOAKbQ/f19pJb29vaw6SgAXyvJwC+RAGCabG5uRmqruro6aD4cQKPRjCvJwNNIAFA+Y2NjqgMMDQ1hwzIA60oycBIJAMpnYWFBdYDZ2VlsVgbgWEkGvJEAYPVcWVlRHWBxcTEawJUSALdcBubn51UHmJ6ejgbwr5IS+kvuHRgfH1cdYHh4WPYdIElyVwnA73KzUGdnp+oAjY2N0WahZSUA43LrAGyd3W63aubdbjde6aOsA2NKAOqiLWSQYrU0ODgYdSHTaDTVNwKIoviJHIDUTsK2Odna3NwMNjpRAD6OazMnmZf2Q1BKS0tLSd3IcRwXsSMLAdgjCCKFUCKbzdYqAYBp6LBqamqCTTwE1KrD4UBbW1txG9/Z2UEdHR1B4xF64lCAm/dBoSdvoiheAgCM/MDAAO7CoHRqa2vxoiY199D7lpSU4GcmJyfR6emprGG4B89AL11YWIiNSicS4acSYQBXNE1/QMQiURS/k0oIRryhoSHYEpaWlv4vGwACjTxch9ZQTj6fD5WVleHe+KZjlYwQgPT09G9iMv88C28LguAKXcicTic6OjrCWwooMciEBACZgFX0Js3NzWGzMQD8TZLkO0Q8EgThi0j9wMHBAYaA+i0uLsbR1dWFLi4ubgQ4OzvDBmMAyIvLfEgmHoV2ZO3t7bh7glhdXUW7u7vI5XLhXaQSwfeUAlAU5SSSoBRBEH6SemIol+7u7oRWZIUAPyftR5D8/Pw3eJ6fkNYDgIDPTU1NqK+vD5+uQbemtFdWADDOMMzrRJKVYrVaO0MPd0PPReHYMBkAWq32W1V/frJarZ9zHOcKP51OAsC+Vqv9jLgN5ebmvsVxXD/LsleJAuh0ukudTveIYZg3idsWwzDvsiz7ldls3q2qqkJKVV5eDuVyoNfrOw0Gw33iZQshlHp0dPTp6elpg8fj+dXn861fX18f+P1+DwR89vl8f8A9eAaehe8Qd7rTnYhE9R+kV7M+FoRFRQAAAABJRU5ErkJggg=="},"75f6":function(e,t,a){"use strict";a("f2c6")},aa28:function(e,t,a){},ad50:function(e,t,a){"use strict";a("aa28")},c3cb:function(e,t,a){},c967:function(e,t,a){"use strict";a("c3cb")},d167:function(e,t,a){"use strict";a("0427")},ee33:function(e,t,a){},ee38:function(e,t,a){e.exports=a.p+"img/arrowhead.0bc61ab0.svg"},f2c6:function(e,t,a){},f3e8:function(e,t,a){},fb2b:function(e,t,a){"use strict";a("f3e8")},fe30:function(e,t,a){"use strict";a("2b19")}});
//# sourceMappingURL=app.f26d7036.js.map